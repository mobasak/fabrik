# Ecommerce Site Preset (v2)
# Purpose: WooCommerce stores, digital products, subscriptions
# Entities: product_categories, testimonials
# Merge order: defaults.yaml → this preset → sites/<domain>.yaml

schema_version: 1
preset_name: ecommerce
preset_description: "WooCommerce-powered online store with products, categories, and checkout"

# ─────────────────────────────────────────────────────────────────────────────
# ENTITIES (Ecommerce-specific)
# ─────────────────────────────────────────────────────────────────────────────

entities:
  # Product categories (displayed on homepage)
  product_categories:
    enabled: true
    generate_pages: false  # WooCommerce handles category pages

  # Customer testimonials/reviews
  testimonials:
    enabled: true
    generate_pages: false

# ─────────────────────────────────────────────────────────────────────────────
# PAGE TEMPLATES
# ─────────────────────────────────────────────────────────────────────────────

page_templates:
  # Homepage - product showcase
  home:
    slug: ""
    title:
      en_US: "Home"
      tr_TR: "Ana Sayfa"
    template: full-width
    sections:
      - type: hero
        headline_ref: brand.tagline
        subheadline_ref: content.hero_subheadline
        cta_text:
          en_US: "Shop Now"
          tr_TR: "Alışverişe Başla"
        cta_url: /shop
        style: image-background
      - type: product_categories_grid
        headline:
          en_US: "Shop by Category"
          tr_TR: "Kategorilere Göre Alışveriş"
        items_ref: entities.product_categories
        columns: 4
      - type: featured_products
        headline:
          en_US: "Featured Products"
          tr_TR: "Öne Çıkan Ürünler"
        limit: 8
        columns: 4
      - type: testimonials
        headline:
          en_US: "What Our Customers Say"
          tr_TR: "Müşterilerimiz Ne Diyor"
        items_ref: entities.testimonials
        style: cards
      - type: cta
        headline:
          en_US: "Free shipping on orders over $50"
          tr_TR: "50$ üzeri siparişlerde ücretsiz kargo"
        cta_text:
          en_US: "Start Shopping"
          tr_TR: "Alışverişe Başla"
        cta_url: /shop
        style: banner

  # Shop page (WooCommerce handles content)
  shop:
    slug: shop
    title:
      en_US: "Shop"
      tr_TR: "Mağaza"
    template: full-width
    is_woocommerce_page: shop
    sections: []  # WooCommerce renders products

  # Cart page (WooCommerce shortcode)
  cart:
    slug: cart
    title:
      en_US: "Cart"
      tr_TR: "Sepet"
    template: default
    is_woocommerce_page: cart
    sections:
      - type: woocommerce_shortcode
        shortcode: woocommerce_cart

  # Checkout page (WooCommerce shortcode)
  checkout:
    slug: checkout
    title:
      en_US: "Checkout"
      tr_TR: "Ödeme"
    template: default
    is_woocommerce_page: checkout
    sections:
      - type: woocommerce_shortcode
        shortcode: woocommerce_checkout

  # My Account page (WooCommerce shortcode)
  my-account:
    slug: my-account
    title:
      en_US: "My Account"
      tr_TR: "Hesabım"
    template: default
    is_woocommerce_page: myaccount
    sections:
      - type: woocommerce_shortcode
        shortcode: woocommerce_my_account

  # About page
  about:
    slug: about
    title:
      en_US: "About"
      tr_TR: "Hakkımızda"
    template: default
    sections:
      - type: rich_text
        content_ref: content.about

  # Contact page
  contact:
    slug: contact
    title:
      en_US: "Contact"
      tr_TR: "İletişim"
    template: default
    sections:
      - type: contact_form
        show_info: true

  # Blog
  blog:
    slug: blog
    title:
      en_US: "Blog"
      tr_TR: "Blog"
    template: blog-index
    is_blog_index: true

  # Legal pages
  privacy-policy:
    slug: privacy-policy
    title:
      en_US: "Privacy Policy"
      tr_TR: "Gizlilik Politikası"
    template: default
    content_generator: legal.privacy_policy

  terms:
    slug: terms
    title:
      en_US: "Terms of Service"
      tr_TR: "Hizmet Şartları"
    template: default
    content_generator: legal.terms_of_service

  refund-policy:
    slug: refund-policy
    title:
      en_US: "Refund Policy"
      tr_TR: "İade Politikası"
    template: default
    content_generator: legal.refund_policy

# ─────────────────────────────────────────────────────────────────────────────
# MENUS
# ─────────────────────────────────────────────────────────────────────────────

menus:
  primary:
    auto_generate: true
    include:
      - shop
      - about
      - blog
      - contact

  footer:
    auto_generate: true
    include:
      - privacy-policy
      - terms
      - refund-policy

# ─────────────────────────────────────────────────────────────────────────────
# PLUGINS
# ─────────────────────────────────────────────────────────────────────────────

plugins:
  add:
    # WooCommerce core
    - woocommerce
    # Multilingual
    - sitepress-multilingual-cms
    - wpml-string-translation
    # Page building
    - thrive-architect
    - thrive-leads
    # Urgency/scarcity
    - thrive-ultimatum
    # Email marketing
    - fluent-forms-pro
    - fluentcrm-pro
    # Cart recovery
    - woocommerce-automatewoo
    # GDPR
    - complianz-gdpr-premium
    # Tracking
    - gtm4wp

  skip: []

# ─────────────────────────────────────────────────────────────────────────────
# WOOCOMMERCE SETTINGS
# ─────────────────────────────────────────────────────────────────────────────

woocommerce:
  enabled: true
  currency_ref: brand.currency
  country_ref: brand.country
  enable_reviews: true
  enable_ratings: true
  manage_stock: true
  shop_page: shop
  cart_page: cart
  checkout_page: checkout
  myaccount_page: my-account

# ─────────────────────────────────────────────────────────────────────────────
# BLOG
# ─────────────────────────────────────────────────────────────────────────────

blog:
  enabled: true
  index_page: blog
  categories:
    - name:
        en_US: "Product News"
        tr_TR: "Ürün Haberleri"
      slug: product-news
    - name:
        en_US: "Guides"
        tr_TR: "Rehberler"
      slug: guides
    - name:
        en_US: "Tips"
        tr_TR: "İpuçları"
      slug: tips
  posts_per_page: 10

# ─────────────────────────────────────────────────────────────────────────────
# CHECKS
# ─────────────────────────────────────────────────────────────────────────────

checks:
  urls:
    - /
    - /shop
    - /cart
    - /checkout
    - /my-account
    - /about
    - /contact
    - /privacy-policy
